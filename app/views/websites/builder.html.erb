<div class="row col-12 col-md-12">
  <div class="container px-3 col-md-4 d-flex flex-column justify-content-start" data-controller="addsection">



    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title" id="exampleModalLabel">Please Select a Section</h4>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>

          <div class="modal-body text-center">
            <div class="d-flex"></div>
            <a href="#" data-action="click->addsection#addHero" role="button" class="btn btn-warning popover-test m-2" title="Popover title" data-content="Popover body content is set in this attribute.">Hero Section</a>
            <a href="#" data-action="click->addsection#addBio" role="button" class="btn btn-warning popover-test m-2" title="Popover title" data-content="Popover body content is set in this attribute.">Bio Section</a>
            <a href="#" data-action="click->addsection#addCatchy" role="button" class="btn btn-warning popover-test m-2" title="Popover title" data-content="Popover body content is set in this attribute.">Catchy Section</a>
            <hr>
            <a href="#" data-action="click->addsection#addPricing" role="button" class="btn btn-warning popover-test m-2" title="Popover title" data-content="Popover body content is set in this attribute.">Pricing Section</a>
            <a href="#" data-action="click->addsection#addCalendar" role="button" class="btn btn-warning popover-test m-2" title="Popover title" data-content="Popover body content is set in this attribute.">Calendar Section</a>
            <a href="#" data-action="click->addsection#addContact" role="button" class="btn btn-warning popover-test m-2" title="Popover title" data-content="Popover body content is set in this attribute.">Contact Section</a>

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <div id="accordion">

      <% SECTION_CONFIG.keys.each do |section_name| %>
        <% current_section = @sections_map[section_name]%>

          <div class="card-form <%= 'is-hidden' if current_section.id.nil? %> " data-addsection-target="card_<%= section_name %>" data-name="<%= section_name %>">
            <div class="card-header d-flex justify-content-between">
              <h4 class="font-weight-bold m-0"><%= current_section.name.capitalize %></h4>
              <p class="collapsed" data-toggle="collapse" data-target=".collapse_<%= section_name %>" aria-expanded="false" aria-controls="collapseHero"></p>
            </div>
            <div class="collapse_<%= section_name %> collapse" aria-labelledby="headingTwo" data-parent="#accordion">
              <div class="card-body">
                <% if section_name.to_s == 'pricing' %>
                  <%= render "sections/form_pricing", section: current_section, website: @website %>
                <% else %>
                  <%= render "sections/base_form", section: current_section, website: @website %>
                <% end %>
              </div>
            </div>
          </div>
      <% end %>


    <!-- Button trigger modal -->
      <button type="button" class="btn-form mt-0" data-toggle="modal" data-target="#exampleModal">
        Add New Section
      </button>
      </div>
  </div>
  <div class="container col-12 col-md-8 mr-0">
     <div class="col">
      <div>
        <%= render "websites/preview" %>
      </div>
    </div>
  </div>
</div>
